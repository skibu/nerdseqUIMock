
<!DOCTYPE html>
<html>
  <header>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/buttons.js"></script>
    
    <!-- Load in pixelated VT323 font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/nerdseqLayout.css">
    
    <style>
      /* Set the colors for each element */
      :root {
        --borderColor: cyan;
        --tableBackgroundColor: black;
      }
      

      /* TMP This element is just for debugging */
      #text {
        font-family: "VT323", monospace;
        letter-spacing: 5px;
        font-weight: 400;
        font-style: normal;
        font-size: 28px;

        color: white;
        background: green;
        position: absolute;
        top: 102px;
        left: 230px;
      }

      /* Settings for all of the virtual screens */
      .virtualScreen {
        font-family: "VT323", monospace;
        letter-spacing: 5px;
        font-weight: 400;
        font-style: normal;
        font-size: 28px;

        background: none; /* TEMP make transparent so can see original layout var(--tableBackgroundColor); */
        color: white; /* font color */
        border: 4px solid var(--borderColor);
        border-spacing: 0px; /* needed to remove extra padding */
        visibility: hidden; /* default is to hide all tables */
      }

      /* Every cell, except those overridden */
      td {
        box-sizing: border-box;
        border-right: 1px solid var(--borderColor);
        border-bottom: 1px solid var(--borderColor);
        margin: -8px;
        margin-top: 0px;
        padding: 0px;
        text-align: center;
        background-color: none;
      }

      #sequencerTable td {
        width: 58px;
      }

      #sequencesTable td {
       width: 58px;
      }

      #sequencesTable {
        border-spacing: 0px; /* set for each table to eliminate spacing */
      }

      #sequencesTable tr {
        /* the secret to making cells have small height */
        line-height: 22px; 
      }

      tr {
        /* trying to get all rows to have small height */
        line-height: 22px;
      }
      

      #topLeftCell {
        border-right: 2px solid var(--borderColor);
      }
      
      .sequenceNumber  {
        border-right: 2px solid var(--borderColor);
        border-bottom: 0px;
      }

      .sequenceCell  {
        border-right: 1px solid var(--borderColor);
        border-bottom: 0px;
      }


    </style>
  </header>
  <body>
    <!-- Display picture of Nerdseq. The width of course affects where the virtual buttons need to be located -->
    <image src='images/fullNerdseqModule.jpg' style='width:1500px; min-width:1500px'/>

    <!-- just some text for debugging -->
    <div id='text'>Hi this is a test<br/>
                   A SOME MORE TEXT TEMPLATE SEQUENCER</div>

    <!-- Create the tables that will be the virtual screens for the NerdSeq -->
    <table id='sequencerTable' class='virtualScreen'>
      <tr>
        <td id='topLeftCell'>xx</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>SEQUENCER</td>
      </tr>
      <tr>
        <td colspan='9'><table id='sequencesTable'></table></td><td><table id='sequencerSideTable'></table></td>
      </tr>  
      <tr>
        <td id='sequencerHelp' colspan='9'>This is where help goes</td><td></td>
      </tr>
    </table>
    
    <script>
      // Fill in the sequences table
      const seqTbl = $('#sequencesTable')[0];
      for (let i=0; i<20; ++i) {
        // Create row
        let row = seqTbl.insertRow();
        row.id = 'sequenceRow' + i;

        // Only first 16 rows should be visible
        if (i>=16)
          row.style.display = 'none';

        // Create sequence number cell
        let td = row.insertCell();
        td.innerHTML = (i<10 ? '0' : '') + i;
        td.className = 'sequenceNumber';

        // Create sequence cell for each track
        for (let c=1; c<=8; ++c) {
          let td = row.insertCell();
          td.innerHTML = '--';
          td.id = 'sequenceCell' + c;
          td.className = 'sequenceCell';
        }
      }
    </script>

    <table id='patternTable' class='table'>
      <tr>
        <td>21</td><td>F-9</td><td>C#-4</td>
      </tr>
      <tr>
        <td>21</td><td>F-9</td><td>C#-4</td>
      </tr>
    </table>

    <!-- Create mostly transparent html buttons over physical buttons so can get click events -->
    <button id='sequencer' class='rectangleButton' 
      onclick='sequencerClicked(event)' oncontextmenu='sequencerClicked(event)'></button>
    <button id='pattern' class='rectangleButton' 
      onclick='patternClicked(event)' oncontextmenu='patternClicked(event)'></button>
    <button id='patch' class='rectangleButton' 
      onclick='patchClicked(event)' oncontextmenu='patchClicked(event)'></button>
    <button id='table' class='rectangleButton' 
      onclick='tableClicked(event)' oncontextmenu='tableClicked(event)'></button>
    <button id='automate' class='rectangleButton' 
      onclick='automateClicked(event)' oncontextmenu='automateClicked(event)'></button>
    <button id='project' class='rectangleButton' 
      onclick='projectClicked(event)' oncontextmenu='projectClicked(event)'></button>

    <button id='start' class='squareButton' 
      onclick='startClicked(event)' oncontextmenu='startClicked(event)'></button>
    <button id='stop' class='squareButton' 
      onclick='stopClicked(event)' oncontextmenu='stopClicked(event)'></button>
    <button id='up' class='squareButton' 
      onclick='upClicked(event)' oncontextmenu='upClicked(event)'></button>
    <button id='ok' class='squareButton' 
      onclick='okClicked(event)' oncontextmenu='okClicked(event)'></button>
    <button id='down' class='squareButton' 
      onclick='downClicked(event)' oncontextmenu='downClicked(event)'></button>

    <button id='upArrow'   class='squareButton' 
      onclick='upArrowClicked(event)' oncontextmenu='upArrowClicked(event)'></button>
    <button id='downArrow' class='squareButton' 
      onclick='downArrowClicked(event)' oncontextmenu='downArrowClicked(event)'></button>
     <button id='leftArrow'   class='squareButton' 
      onclick='leftArrowClicked(event)' oncontextmenu='leftArrowClicked(event)'></button>
    <button id='rightArrow' class='squareButton' 
      onclick='rightArrowClicked(event)' oncontextmenu='rightArrowClicked(event)'></button>     
  </body>

  <script>
    // Start by making visible the sequencer table
    sequencer();
  </script>
<html>
